sap.ui.define([
	"homedepot/YDSD_OHMBAY/controller/BaseController",
	"sap/ui/model/json/JSONModel",
	"homedepot/YDSD_OHMBAY/model/formatter",
	"sap/m/MessageBox"
], function(BaseController, JSONModel, formatter, MessageBox) {
	"use strict";
	return BaseController.extend("homedepot.YDSD_OHMBAY.controller.Main", {
		onInit: function() {
			var me = this;
			var oModel = new sap.ui.model.json.JSONModel();
			this.getView().setModel(oModel, "DisplayModel");
			//      me._oRouter = sap.ui.core.UIComponent.getRouterFor(me);
			// me._oRouter.getRoute("DisplayNotification").attachPatternMatched(this._on1RouteMatched, this);
			this.oModel = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZPMAPP_SRV_02/", {
				//	async: true,
				json: true,
				useBatch: false
			}); // this.loadTeamView() ;
		},
		/**
		 *@memberOf homedepot.YDSD_OHMBAY.controller.Main
		 */
		// search: function() {
		// 	// This code was generated by the layout editor.
		// 	var me = this;
		// 	var site = this.site;
		// 	this.siteModel = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZPMAPP_SRV_02/", {
		// 		async: true,
		// 		json: true,
		// 		useBatch: false
		// 	});
		// 	var bayId = this.getView().getModel("testModel").getProperty("/NotifNo");
		// 	var sNotifDtls = {};
		// 	sNotifDtls.NotifNo = bayId;
		// 	var sPath = "NotificationRdSet?$format=json&$filter=NotifNo eq" + "'" + sNotifDtls.NotifNo + "'";
		// 	//+ " and DateFlag eq " + "'" + dateFlag + "'";
		// 	me.siteModel.read(sPath, {
		// 		success: function(odata) {
		// 			if (odata.results.length > 0) {
		// 				me.getView().getModel("testModel").setProperty("/NotificationRd", odata.results[0]);
		// 			}
		// 		}
		// 	});
		// },
		/**
		 *@memberOf homedepot.YDSD_OHMBAY.controller.Main
		 */
		display: function() {
			//This code was generated by the layout editor.
		
			var me = this;
			var site = this.site;
				this.siteModel = new sap.ui.model.odata.ODataModel("/sap/opu/odata/sap/ZPMAPP_SRV_02/", {
	/*			async: true,*/
				json: true,
				useBatch: false
			});
			
			// var sNotifDtls1 = {};
			
		    var bayId = this.getView().getModel("DisplayModel").getProperty("/NotifNo");
		    var sNotifDtls = {};
		    sNotifDtls.NotifNo = bayId;
			// var sPath = "NotificationRdSet?$filter=NotifNo eq" +"'" + '000010000002' + "'" + "&$format=json"; //+ " and DateFlag eq " + "'" + dateFlag + "'";
			var sPath = "NotificationRdSet?$format=json&$filter=NotifNo eq" +"'" + sNotifDtls.NotifNo + "'" ; //+ " and DateFlag eq " + "'" + dateFlag + "'";
			me.siteModel.read(sPath, {
				success: function(odata) {
					if (odata.results.length > 0) {
						me.getView().getModel("DisplayModel").setProperty("/NotificationRd", odata.results[0]);
					}
				}
			});
		
		}
	});
});